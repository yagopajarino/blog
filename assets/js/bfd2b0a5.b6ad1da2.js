"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[881],{3805:(e,a,s)=>{s.r(a),s.d(a,{assets:()=>t,contentTitle:()=>c,default:()=>d,frontMatter:()=>l,metadata:()=>r,toc:()=>o});var n=s(4848),i=s(8453);const l={title:"Recusi\xf3n",authors:"yago",tags:["algorithms","problem solving","codewars"],hide_table_of_contents:!1},c=void 0,r={permalink:"/2022/06/30/recursion",source:"@site/blog/2022-06-30-recursion/index.md",title:"Recusi\xf3n",description:"Hace unos d\xedas me cruc\xe9 con un kata en la plataforma de code training codewars tagged como recursion.",date:"2022-06-30T00:00:00.000Z",tags:[{inline:!0,label:"algorithms",permalink:"/tags/algorithms"},{inline:!0,label:"problem solving",permalink:"/tags/problem-solving"},{inline:!0,label:"codewars",permalink:"/tags/codewars"}],readingTime:3.995,hasTruncateMarker:!0,authors:[{name:"Yago Pajari\xf1o",title:"Blogger",url:"https://github.com/yagopajarino",imageURL:"/img/ape.png",key:"yago"}],frontMatter:{title:"Recusi\xf3n",authors:"yago",tags:["algorithms","problem solving","codewars"],hide_table_of_contents:!1},unlisted:!1,prevItem:{title:"\xbfQu\xe9 probabilidad hay de obtener el 21% de cashback en Belo?",permalink:"/2023/02/24/belo-cashback"},nextItem:{title:"Codeforces 799",permalink:"/2022/06/16/codeforces-799"}},t={authorsImageUrls:[void 0]},o=[{value:"Introducci\xf3n",id:"introducci\xf3n",level:2},{value:"Ejemplo. Fibonacci",id:"ejemplo-fibonacci",level:2},{value:"Implementaci\xf3n en python",id:"implementaci\xf3n-en-python",level:3},{value:"Caso base",id:"caso-base",level:3},{value:"Call stack",id:"call-stack",level:3},{value:"Tail recursion",id:"tail-recursion",level:3},{value:"Codewars. Determinante de una matriz",id:"codewars-determinante-de-una-matriz",level:2},{value:"Implementaci\xf3n en python",id:"implementaci\xf3n-en-python-1",level:3}];function m(e){const a={a:"a",annotation:"annotation",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",ol:"ol",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.p,{children:["Hace unos d\xedas me cruc\xe9 con un ",(0,n.jsx)(a.a,{href:"https://docs.codewars.com/concepts/kata/",children:"kata"})," en la plataforma de code training ",(0,n.jsx)(a.a,{href:"https://www.codewars.com/about",children:"codewars"})," tagged como ",(0,n.jsx)(a.em,{children:"recursion."})]}),"\n",(0,n.jsx)(a.p,{children:"\xbfQu\xe9 es recursi\xf3n, c\xf3mo se usa, cuando se usa? Lo vemos"}),"\n",(0,n.jsx)(a.h2,{id:"introducci\xf3n",children:"Introducci\xf3n"}),"\n",(0,n.jsx)(a.p,{children:"Wikipedia lo define como:"}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsx)(a.p,{children:"Recursi\xf3n o recursividad es la forma en la cual se especifica un proceso basado en su propia definici\xf3n."}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"(Casi) siempre las definiciones de una linea de wikipedia no ayudan mucho."}),"\n",(0,n.jsxs)(a.p,{children:["Podemos decir que es uno de los primeros conceptos con los que estudiantes de alguna rama de programaci\xf3n se encuentran. Yo lo encontr\xe9 en la ",(0,n.jsx)(a.strong,{children:"primer"})," materia de la carrera de ciencias de la copmutaci\xf3n de la UBA."]}),"\n",(0,n.jsx)(a.p,{children:"Formalmente podemos decir que es una t\xe9cnica o m\xe9todo para dise\xf1ar algoritmos, en el cual se divide el problema en partes que se repiten muchas veces."}),"\n",(0,n.jsxs)(a.p,{children:["Hay una caracter\xedstica muy llamativa que comparten todos los programas que usan recursi\xf3n, ",(0,n.jsx)(a.strong,{children:"se llaman a ellos mismos"})," \ud83e\udd2f. Veamos un ejemplo:"]}),"\n",(0,n.jsx)(a.h2,{id:"ejemplo-fibonacci",children:"Ejemplo. Fibonacci"}),"\n",(0,n.jsxs)(a.p,{children:["La ",(0,n.jsx)(a.a,{href:"https://economipedia.com/definiciones/sucesion-de-fibonacci.html",children:"sucesion de fibonacci"})," es una sucesi\xf3n infinita de n\xfameros naturales que comienza en 0, 1 y a partir de estos, cada elemento de la sucesi\xf3n es la suma de los dos anteriores. As\xed, los primeros 10 t\xe9rminos de esta sucesi\xf3n son:"]}),"\n",(0,n.jsx)(a.span,{className:"katex-display",children:(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mn,{children:"0"}),(0,n.jsx)(a.mo,{separator:"true",children:","}),(0,n.jsx)(a.mn,{children:"1"}),(0,n.jsx)(a.mo,{separator:"true",children:","}),(0,n.jsx)(a.mn,{children:"1"}),(0,n.jsx)(a.mo,{separator:"true",children:","}),(0,n.jsx)(a.mn,{children:"2"}),(0,n.jsx)(a.mo,{separator:"true",children:","}),(0,n.jsx)(a.mn,{children:"3"}),(0,n.jsx)(a.mo,{separator:"true",children:","}),(0,n.jsx)(a.mn,{children:"5"}),(0,n.jsx)(a.mo,{separator:"true",children:","}),(0,n.jsx)(a.mn,{children:"8"}),(0,n.jsx)(a.mo,{separator:"true",children:","}),(0,n.jsx)(a.mn,{children:"13"}),(0,n.jsx)(a.mo,{separator:"true",children:","}),(0,n.jsx)(a.mn,{children:"21"}),(0,n.jsx)(a.mo,{separator:"true",children:","}),(0,n.jsx)(a.mn,{children:"34"})]}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"0,1,1,2,3,5,8,13,21,34"})]})})}),(0,n.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.8389em",verticalAlign:"-0.1944em"}}),(0,n.jsx)(a.span,{className:"mord",children:"0"}),(0,n.jsx)(a.span,{className:"mpunct",children:","}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(a.span,{className:"mord",children:"1"}),(0,n.jsx)(a.span,{className:"mpunct",children:","}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(a.span,{className:"mord",children:"1"}),(0,n.jsx)(a.span,{className:"mpunct",children:","}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(a.span,{className:"mord",children:"2"}),(0,n.jsx)(a.span,{className:"mpunct",children:","}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(a.span,{className:"mord",children:"3"}),(0,n.jsx)(a.span,{className:"mpunct",children:","}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(a.span,{className:"mord",children:"5"}),(0,n.jsx)(a.span,{className:"mpunct",children:","}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(a.span,{className:"mord",children:"8"}),(0,n.jsx)(a.span,{className:"mpunct",children:","}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(a.span,{className:"mord",children:"13"}),(0,n.jsx)(a.span,{className:"mpunct",children:","}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(a.span,{className:"mord",children:"21"}),(0,n.jsx)(a.span,{className:"mpunct",children:","}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(a.span,{className:"mord",children:"34"})]})})]})}),"\n",(0,n.jsx)(a.p,{children:"Y as\xed hasta el infinito."}),"\n",(0,n.jsxs)(a.p,{children:["Entonces, \xbfC\xf3mo programar un algoritmo que tome un entero ",(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsx)(a.mrow,{children:(0,n.jsx)(a.mi,{children:"n"})}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"n"})]})})}),(0,n.jsx)(a.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"n"})]})})]})," y devuelva el ",(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mi,{children:"n"}),(0,n.jsx)(a.mo,{children:"\u2212"}),(0,n.jsx)(a.mi,{children:"e"}),(0,n.jsx)(a.mi,{children:"s"}),(0,n.jsx)(a.mi,{children:"i"}),(0,n.jsx)(a.mi,{children:"m"}),(0,n.jsx)(a.mi,{children:"o"})]}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"n-esimo"})]})})}),(0,n.jsxs)(a.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6667em",verticalAlign:"-0.0833em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"n"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,n.jsx)(a.span,{className:"mbin",children:"\u2212"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6595em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"es"}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"im"}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"o"})]})]})]})," elemento de la sucesi\xf3n?"]}),"\n",(0,n.jsx)(a.h3,{id:"implementaci\xf3n-en-python",children:"Implementaci\xf3n en python"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:"def fibonacci(n):\n\tif (n == 1):\n\t\treturn 0\n\telif (n == 2):\n\t\treturn 1\n\telse:\n\t\treturn fibonacci(n-1) + fibonacci(n-2)\n"})}),"\n",(0,n.jsxs)(a.p,{children:["Vemos en el ejemplo que la funci\xf3n ",(0,n.jsx)(a.code,{children:"fibonacci"})," se llama a s\xed misma, a mi la primera vez que vi esto me vol\xf3 la cabeza, \xbfC\xf3mo puede llamar una funci\xf3n a si misma en el medio de su definici\xf3n? \xbfNo deber\xeda entrar en un ciclo infinito?"]}),"\n",(0,n.jsx)(a.p,{children:"Imaginemos que queremos saber cual es el tercer fibonacci usando esta funci\xf3n, veamos que har\xeda:"}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsx)(a.li,{children:"Llamamos fibonacci(3)"}),"\n",(0,n.jsx)(a.li,{children:"Pregunta si 3 == 1 \u21d2 falso"}),"\n",(0,n.jsx)(a.li,{children:"Pregunta si 3 == 2 \u21d2 falso"}),"\n",(0,n.jsxs)(a.li,{children:["Devuelve ",(0,n.jsx)(a.code,{children:"fibonacci(2) + fibonacci(1)"})]}),"\n",(0,n.jsx)(a.li,{children:"Llamamos fibonacci(2)"}),"\n",(0,n.jsx)(a.li,{children:"Pregunta si 2 == 1 \u21d2 falso"}),"\n",(0,n.jsx)(a.li,{children:"Pregunta si 2 == 2 \u21d2 verdadero \u21d2 devuelve 1"}),"\n",(0,n.jsx)(a.li,{children:"Llamamos fibonacci(1)"}),"\n",(0,n.jsx)(a.li,{children:"Pregunta si 1 == 1 \u21d2 verdadero \u21d2 devuelve 0"}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Entonces en la llamada original, el programa reemplaza las llamadas a fibonacci por los n\xfameros encontrados, en este caso ",(0,n.jsx)(a.code,{children:"fibonacci(2) + fibonacci(1) = 1 + 0 = 1"})]}),"\n",(0,n.jsx)(a.p,{children:"Volvamos a formalizar un poco la t\xe9cnica, la intuici\xf3n de caer en un ciclo infinito es una posibilidad cierta, veamos algunos conceptos fundamentales de este m\xe9todo:"}),"\n",(0,n.jsx)(a.h3,{id:"caso-base",children:"Caso base"}),"\n",(0,n.jsxs)(a.p,{children:["Es aquel estado en el que se conoce una soluci\xf3n cierta y \xfanica, la sucesi\xf3n de llamados a la funci\xf3n tiene que terminar en este caso base, para evitar entrar en un ciclo infinito. En el caso de fibonacci, los casos base ocurren en ",(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mi,{children:"n"}),(0,n.jsx)(a.mo,{children:"="}),(0,n.jsx)(a.mn,{children:"0"})]}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"n = 0"})]})})}),(0,n.jsxs)(a.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"n"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(a.span,{className:"mrel",children:"="}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6444em"}}),(0,n.jsx)(a.span,{className:"mord",children:"0"})]})]})]})," y ",(0,n.jsxs)(a.span,{className:"katex",children:[(0,n.jsx)(a.span,{className:"katex-mathml",children:(0,n.jsx)(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mi,{children:"n"}),(0,n.jsx)(a.mo,{children:"="}),(0,n.jsx)(a.mn,{children:"1"})]}),(0,n.jsx)(a.annotation,{encoding:"application/x-tex",children:"n = 1"})]})})}),(0,n.jsxs)(a.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(a.span,{className:"mord mathnormal",children:"n"}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(a.span,{className:"mrel",children:"="}),(0,n.jsx)(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(a.span,{className:"base",children:[(0,n.jsx)(a.span,{className:"strut",style:{height:"0.6444em"}}),(0,n.jsx)(a.span,{className:"mord",children:"1"})]})]})]}),"."]}),"\n",(0,n.jsx)(a.h3,{id:"call-stack",children:"Call stack"}),"\n",(0,n.jsx)(a.p,{children:"Es el conjunto de llamados que se hace a la funci\xf3n, se lo suele pensar como una caja en la que se van apilando bloques a medida que se llama a la funci\xf3n."}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:"stack",src:s(6093).A+"",width:"1334",height:"800"})}),"\n",(0,n.jsx)(a.p,{children:"Se van apilando llamados hasta llegar al caso base y devolver un resultado, pasandolo a la caja de abajo."}),"\n",(0,n.jsx)(a.h3,{id:"tail-recursion",children:"Tail recursion"}),"\n",(0,n.jsx)(a.p,{children:"Es el proceso desde el cual, comenzando por la ultima llamada del stack, se va pasando el resultado encontrado, hasta llegar a la llamada original de la funci\xf3n."}),"\n",(0,n.jsx)(a.h2,{id:"codewars-determinante-de-una-matriz",children:"Codewars. Determinante de una matriz"}),"\n",(0,n.jsxs)(a.p,{children:["Link a la descripci\xf3n del problema ",(0,n.jsx)(a.a,{href:"https://www.codewars.com/kata/52a382ee44408cea2500074c",children:"Matrix Determinant | Codewarw"})]}),"\n",(0,n.jsx)(a.p,{children:"Ahora s\xed veamos la resoluci\xf3n al siguiente problema (que di\xf3 origen a esta entrada)"}),"\n",(0,n.jsxs)(a.p,{children:["Nos piden calcular el ",(0,n.jsx)(a.a,{href:"https://www.mathsisfun.com/algebra/matrix-determinant.html",children:"determinante"})," de una matriz de (NxN), podemos usar recursi\xf3n para resolverlo."]}),"\n",(0,n.jsx)(a.p,{children:"En el enunciado incluso nos dan una idea de como resolverlo:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["A 1x1 matrix\xa0",(0,n.jsx)(a.code,{children:"|a|"})," has determinant\xa0",(0,n.jsx)(a.code,{children:"a"}),"."]}),"\n",(0,n.jsxs)(a.li,{children:["A 2x2 matrix ",(0,n.jsx)(a.code,{children:"[ [a, b], [c, d] ]"})," has determinant:\xa0",(0,n.jsx)(a.code,{children:"a*d - b*c"}),"."]}),"\n",(0,n.jsxs)(a.li,{children:["The determinant of an\xa0",(0,n.jsx)(a.code,{children:"n x n"})," sized matrix is calculated by reducing the problem to the calculation of the determinants of\xa0",(0,n.jsx)(a.code,{children:"n"})," matrices of ",(0,n.jsx)(a.code,{children:"n-1 x n-1"}),"\xa0size."]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"En el caso de matrices de 3x3, por ejemplo:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{children:"|a b c|\n|d e f|\n|g h i|\n"})}),"\n",(0,n.jsx)(a.p,{children:"el determinante se calcula como"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:"a * |e f| - b |d f| + c * |d e|\n    |h i|     |g i|       |g h|\n"})}),"\n",(0,n.jsx)(a.p,{children:"Quedando el c\xe1lculo de tres matrices de 2x2 que ya sabemos como resolver. La idea entonces es llamar recursivamente a la funci\xf3n determinante hasta encontrar una matriz de 2x2, nuestro caso base."}),"\n",(0,n.jsx)(a.h3,{id:"implementaci\xf3n-en-python-1",children:"Implementaci\xf3n en python"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:"def determinant(matrix):\n    res = 0;\n    if len(matrix[0]) == 1:\n        res = matrix[0][0]\n    elif len(matrix[0]) == 2:\n        res = matrix[0][0] * matrix[1][1] - matrix[0][1] * matrix[1][0]\n    else:\n        for i in range(len(matrix[0])):\n            res += (-1)**i * matrix[0][i] * determinant([l[0:i] + l[i+1:] for l in matrix[1:]])\n    return res\n"})})]})}function d(e={}){const{wrapper:a}={...(0,i.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(m,{...e})}):m(e)}},6093:(e,a,s)=>{s.d(a,{A:()=>n});const n=s.p+"assets/images/stack-2b933419e315ed811d6ce74b9513461c.png"},8453:(e,a,s)=>{s.d(a,{R:()=>c,x:()=>r});var n=s(6540);const i={},l=n.createContext(i);function c(e){const a=n.useContext(l);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function r(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),n.createElement(l.Provider,{value:a},e.children)}}}]);